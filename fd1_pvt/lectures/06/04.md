<a href="05.md">next</a>

<h1>Package.json</h1>

<div>
Флаги при установке зависимостей

<ol>
<li>
<code>--save</code>(в dependencies)
</li>
<li>
<code>--save-dev</code>(в devDependencies)
</li>
</ol>
</div>

<div>
<strong>Dependencies</strong> это зависимости самого модуля, без которых модуль не будет работать.
К ним относятся jQuery, Underscore, Angular и прочее в таком духе.
<strong>devDependencies</strong> зависимости на библиотеки и модули которые использовались при разработке модуля, они интересуют только разработчиков модуля.
К ним относятся различные тесты, линтеры, минификаторы, транспиляторы и прочее в таком духе.

</div>
<h3>
Package creation
</h3>
Package можно конечно заполнять руками, однако существует более удобный способ.
На примере нашего приложения, сделаем так, чтобы наша сборка зависела от jquery а в качестве dev зависимости имела jslint.
Для этого удалим node_modules (не обязательно, просто пример что так можно), а затем при новой установке jquery и jslint добавим флаги как на примере.
Затем откроем package.
</div>
</div>

<div>
<h3>
Remove module
</h3>
Удалить модуль можно через npm remove.
Еще раз возвращаясь к директории node_modules.
Установку модуля можно делать из любого места приложения, не обязательно чтобы path в консоле соответствовал директории.
При вложенности (при установке) ПМ будет просто подниматься вверх по иерархии и искать директорию node_modules пока не найдет,
если же по каким то причинам, вложенность должна быть, то директория node_modules просто создается руками, тогда установка произойдет туда.
</div>


<div>
<h2>
Package-lock.json
</h2>
Автоматически генерируемый (начиная с 5 версии npm) файл, содержащий в себе полный список зависимостей проекта, важно, с версиями этих зависимостей.
Так как любой модуль может, и как правило содержит в себе собственные зависимости,
до package-lock мы не могли гарантировать, что эти зависимости содержат прямо указанные версии,
а значит их обновления потенциально могли поломать подключаемый модуль. Ничего конкретного делать с этим файлом не нужно,
генерируется он сам, просто добавляем его в коммит и всё.

<br/>

До 5-й версии npm автоматически lock файл не создавался. Для создания(до 5-й версии) выполняем команду: <code>npm shrinkwrap</code>.
Создастся файл npm-shrinkwrap.json, в котором будут залочены все зависимости.
</div>

<a href="03.md">prev</a>
